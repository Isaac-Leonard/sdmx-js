{"version":3,"sources":["sdmx/sdmx20.ts"],"names":["parseXml","Sdmx20StructureParser","Sdmx20StructureParser.constructor","Sdmx20StructureParser.getVersionIdentifier","Sdmx20StructureParser.canParse","Sdmx20StructureParser.isStructure","Sdmx20StructureParser.isData","Sdmx20StructureParser.isMetadata","Sdmx20StructureParser.parseStructureWithRegistry","Sdmx20StructureParser.parseStructure","Sdmx20StructureParser.parseData","Sdmx20DataReaderTools","Sdmx20DataReaderTools.constructor","Sdmx20DataReaderTools.getDataMessage","Sdmx20DataReaderTools.toDataMessage","Sdmx20DataReaderTools.toDataSets","Sdmx20DataReaderTools.toDataSet","Sdmx20DataReaderTools.toHeader","Sdmx20DataReaderTools.toSender","Sdmx20DataReaderTools.toNames","Sdmx20DataReaderTools.toName","Sdmx20DataReaderTools.toDescriptions","Sdmx20DataReaderTools.toDescription","Sdmx20DataReaderTools.toTextType","Sdmx20DataReaderTools.toPartyType","Sdmx20DataReaderTools.findNodeName","Sdmx20DataReaderTools.searchNodeName","Sdmx20DataReaderTools.findTextNode","Sdmx20DataReaderTools.recurseDomChildren","Sdmx20DataReaderTools.loopNodeChildren","Sdmx20DataReaderTools.outputNode","Sdmx20StructureReaderTools","Sdmx20StructureReaderTools.constructor","Sdmx20StructureReaderTools.toStructureType","Sdmx20StructureReaderTools.toHeader","Sdmx20StructureReaderTools.toSender","Sdmx20StructureReaderTools.toNames","Sdmx20StructureReaderTools.toName","Sdmx20StructureReaderTools.toDescriptions","Sdmx20StructureReaderTools.toDescription","Sdmx20StructureReaderTools.toTextType","Sdmx20StructureReaderTools.toPartyType","Sdmx20StructureReaderTools.toDataflows","Sdmx20StructureReaderTools.toDataflow","Sdmx20StructureReaderTools.toCodelists","Sdmx20StructureReaderTools.toID","Sdmx20StructureReaderTools.toNestedNCNameID","Sdmx20StructureReaderTools.toVersion","Sdmx20StructureReaderTools.toCodelist","Sdmx20StructureReaderTools.toCode","Sdmx20StructureReaderTools.getParentCode","Sdmx20StructureReaderTools.toValue","Sdmx20StructureReaderTools.toConcepts","Sdmx20StructureReaderTools.findStandaloneConceptScheme","Sdmx20StructureReaderTools.toConceptScheme","Sdmx20StructureReaderTools.toConcept","Sdmx20StructureReaderTools.toKeyFamilies","Sdmx20StructureReaderTools.toDataStructure","Sdmx20StructureReaderTools.toDataStructureComponents","Sdmx20StructureReaderTools.toDimensionList","Sdmx20StructureReaderTools.toAttributeList","Sdmx20StructureReaderTools.toTimeDimension","Sdmx20StructureReaderTools.toPrimaryMeasure","Sdmx20StructureReaderTools.toDimension","Sdmx20StructureReaderTools.toAttribute","Sdmx20StructureReaderTools.toTextFormatType","Sdmx20StructureReaderTools.toLocalRepresentation","Sdmx20StructureReaderTools.getCodelist","Sdmx20StructureReaderTools.getConceptScheme","Sdmx20StructureReaderTools.getConcept","Sdmx20StructureReaderTools.findConcept","Sdmx20StructureReaderTools.toMeasureDimension","Sdmx20StructureReaderTools.getStructureType","Sdmx20StructureReaderTools.findNodeName","Sdmx20StructureReaderTools.searchNodeName","Sdmx20StructureReaderTools.findTextNode","Sdmx20StructureReaderTools.recurseDomChildren","Sdmx20StructureReaderTools.loopNodeChildren","Sdmx20StructureReaderTools.outputNode"],"mappings":"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CA;YACjCA,MAAMA,CAACA,EAAEA,CAACA;QACdA,CAACA;QACDb,4CAAYA,GAAZA,UAAaA,CAASA,EAAEA,UAAeA;YACnCc,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAWA,CAACA,EAAEA,CAACA,GAAGA,UAAUA,CAACA,MAAMA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;gBACjDA,IAAIA,EAAEA,GAAWA,UAAUA,CAACA,CAACA,CAACA,CAACA,QAAQA,CAACA;gBACxCA,2DAA2DA;gBAC3DA,EAAEA,CAACA,CAACA,EAAEA,CAACA,OAAOA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,CAACA,CAACA,CAACA;oBACtBA,yBAAyBA;oBACzBA,MAAMA,CAACA,UAAUA,CAACA,CAACA,CAACA,CAACA;gBACzBA,CAACA;YACLA,CAACA;YACDA,MAAMA,CAACA,IAAIA,CAACA;QAChBA,CAACA;QACDd,8CAAcA,GAAdA,UAAeA,CAASA,EAAEA,UAAeA;YACrCe,IAAIA,MAAMA,GAAeA,EAAEA,CAACA;YAC5BA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAWA,CAACA,EAAEA,CAACA,GAAGA,UAAUA,CAACA,MAAMA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;gBACjDA,IAAIA,EAAEA,GAAWA,UAAUA,CAACA,CAACA,CAACA,CAACA,QAAQA,CAACA;gBACxCA,2DAA2DA;gBAC3DA,EAAEA,CAACA,CAACA,EAAEA,CAACA,OAAOA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,CAACA,CAACA,CAACA;oBACtBA,yBAAyBA;oBACzBA,MAAMA,CAACA,IAAIA,CAACA,UAAUA,CAACA,CAACA,CAACA,CAACA,CAACA;gBAC/BA,CAACA;YACLA,CAACA;YACDA,EAAEA,CAACA,CAACA,MAAMA,CAACA,MAAMA,IAAIA,CAACA,CAACA,CAACA,CAACA;YAEzBA,CAACA;YACDA,MAAMA,CAACA,MAAMA,CAACA;QAClBA,CAACA;QACDf,4CAAYA,GAAZA,UAAaA,IAASA;YAClBgB,EAAEA,CAACA,C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A,CAACA;gBAChDA,EAAEA,CAACA,QAAQA,EAAEA,CAACA,IAAIA,CAACA,IAAIA,CAACA,MAAMA,CAACA,SAASA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;YAClDA,CAACA;YACDA,MAAMA,CAACA,EAAEA,CAACA;QACdA,CAACA;QACDjB,2CAAMA,GAANA,UAAOA,QAAaA;YAChBkB,IAAIA,CAACA,GAAuBA,IAAIA,SAASA,CAACA,QAAQA,EAAEA,CAACA;YACrDA,CAACA,CAACA,eAAeA,CAACA,IAAIA,CAACA,cAAcA,CAACA,QAAQA,CAACA,CAACA,CAACA;YACjDA,CAACA,CAACA,KAAKA,CAACA,IAAIA,CAACA,OAAOA,CAACA,QAAQA,CAACA,CAACA,CAACA;YAChCA,EAAEA,CAACA,CAACA,QAAQA,CAACA,YAAYA,CAACA,YAAYA,CAACA,IAAIA,IAAIA,CAACA,CAACA,CAACA;gBAC9CA,IAAIA,GAAGA,GAAyBA,IAAIA,gBAAgBA,CAACA,GAAGA,EAAEA,CAACA;gBAC3DA,GAAGA,CAACA,uBAAuBA,CAACA,IAAIA,gBAAgBA,CAACA,EAAEA,CAACA,QAAQA,CAACA,YAAYA,CAACA,YAAYA,CAACA,CAACA,CAACA,CAACA;gBAC1FA,IAAIA,SAASA,GAA+BA,IAAIA,gBAAgBA,CAACA,SAASA,CAACA,GAAGA,EAAEA,IAAIA,CAACA,CAACA;gBACtFA,CAACA,CAACA,SAASA,CAACA,SAASA,CAACA,CAACA;YAC3BA,CAACA;YACDA,MAAMA,CAACA,CAACA,CAACA;QACbA,CAACA;QACDlB,kDAAaA,GAAbA,UAAcA,QAAaA;YACvBmB,IAAIA,EAAEA,GAAGA,QAAQA,CAACA,YAAYA,CAACA,YAAYA,CAACA,CAACA;YAC7CA,EAAEA,CAACA,CAACA,EAAEA,IAAIA,IAAIA,CAACA,CAACA,CAACA;gBAACA,MAAMA,CAACA,IAAIA,CAACA;YAACA,CAACA;YAChCA,IAAIA,CAACA,CAACA;gBACFA,MAAMA,CAACA,IAAIA,gBAAgBA,CAACA,EAAEA,CAACA,EAAEA,CAACA,CAACA;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AACA,CAACA,CAACA;YAACA,CAACA;YACvGA,EAAEA,CAACA,CAACA,GAAGA,CAACA,YAAYA,CAACA,YAAYA,CAACA,IAAIA,IAAIA,CAACA,CAACA,CAACA;gBACzCA,IAAIA,CAACA,aAAaA,CAACA,GAAGA,CAACA,YAAYA,CAACA,YAAYA,CAACA,IAAIA,MAAMA,CAACA,CAACA;gBAC7DA,EAAEA,CAACA,CAACA,GAAGA,CAACA,YAAYA,CAACA,UAAUA,CAACA,IAAIA,IAAIA,CAACA,CAACA,CAACA;oBAACA,IAAIA,CAACA,WAAWA,CAACA,QAAQA,CAACA,GAAGA,CAACA,YAAYA,CAACA,UAAUA,CAACA,CAACA,CAACA,CAACA;gBAACA,CAACA;YAC3GA,CAACA;YACDA,EAAEA,CAACA,CAACA,GAAGA,CAACA,YAAYA,CAACA,WAAWA,CAACA,IAAIA,IAAIA,CAACA,CAACA,CAACA;gBACxCA,IAAIA,CAACA,YAAYA,CAACA,QAAQA,CAACA,GAAGA,CAACA,YAAYA,CAACA,WAAWA,CAACA,CAACA,CAACA,CAACA;YAC/DA,CAACA;YACDA,EAAEA,CAACA,CAACA,GAAGA,CAACA,YAAYA,CAACA,SAASA,CAACA,IAAIA,IAAIA,CAACA,CAACA,CAACA;gBACtCA,IAAIA,CAACA,UAAUA,CAACA,GAAGA,CAACA,YAAYA,CAACA,SAASA,CAACA,CAACA,CAACA;YACjDA,CAACA;YACDA,EAAEA,CAACA,CAACA,GAAGA,CAACA,YAAYA,CAACA,YAAYA,CAACA,CAACA,CAACA,CAACA;gBAACA,IAAIA,CAACA,aAAaA,CAACA,QAAQA,CAACA,GAAGA,CAACA,YAAYA,CAACA,YAAYA,CAACA,CAACA,CAACA,CAACA;YAACA,CAACA;YACrGA,EAAEA,CAACA,CAACA,GAAGA,CAACA,YAAYA,CAACA,UAAUA,CAACA,IAAIA,IAAIA,CAACA,CAACA,CAACA;gBACvCA,IAAIA,CAACA,WAAWA,CAACA,MAAMA,CAACA,QAAQA,CAACA,uBAAuBA,CAACA,GAAGA,CAACA,YAAYA,CAACA,UAAUA,CAACA,CAACA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AACA,MAAMA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;gBACjDA,IAAIA,EAAEA,GAAWA,UAAUA,CAACA,CAACA,CAACA,CAACA,QAAQA,CAACA;gBACxCA,2DAA2DA;gBAC3DA,EAAEA,CAACA,CAACA,EAAEA,CAACA,OAAOA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,CAACA,CAACA,CAACA;oBACtBA,yBAAyBA;oBACzBA,MAAMA,CAACA,UAAUA,CAACA,CAACA,CAACA,CAACA;gBACzBA,CAACA;YACLA,CAACA;YACDA,MAAMA,CAACA,IAAIA,CAACA;QAChBA,CAACA;QACD1C,mDAAcA,GAAdA,UAAeA,CAASA,EAAEA,UAAeA;YACrC2C,IAAIA,MAAMA,GAAeA,EAAEA,CAACA;YAC5BA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAWA,CAACA,EAAEA,CAACA,GAAGA,UAAUA,CAACA,MAAMA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;gBACjDA,IAAIA,EAAEA,GAAWA,UAAUA,CAACA,CAACA,CAACA,CAACA,QAAQA,CAACA;gBACxCA,2DAA2DA;gBAC3DA,EAAEA,CAACA,CAACA,EAAEA,CAACA,OAAOA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,CAACA,CAACA,CAACA;oBACtBA,yBAAyBA;oBACzBA,MAAMA,CAACA,IAAIA,CAACA,UAAUA,CAACA,CAACA,CAACA,CAACA,CAACA;gBAC/BA,CAACA;YACLA,CAACA;YACDA,EAAEA,CAACA,CAACA,MAAMA,CAACA,MAAMA,IAAIA,CAACA,CAACA,CAACA,CAACA;YAEzBA,CAACA;YACDA,MAAMA,CAACA,MAAMA,CAACA;QAClBA,CAACA;QACD3C,iDAAYA,GAAZA,UAAaA,IAASA;YAClB4C,EAAEA,CAACA,CAACA,IAAIA,IAAIA,IAAIA,CAACA;gBAACA,MAAMA,CAACA,EAAEA,CAACA;YAC5BA,IAAIA,UAAUA,GAAGA,IAAIA,CAACA,UAAUA,CAACA;YACjCA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAWA,CAACA,EAAEA,CAACA,GAAGA,UAAUA,CAACA,MAAMA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;gBACjDA,IAAIA,QAAQA,GAAGA,UAAUA,CAACA,CAACA,CAACA,CAACA,QAAQA,CAACA;gBACtCA,EAAEA,CAACA,CAACA,QAAQA,IAAIA,CAACA,CAACA,CAACA,CAACA;oBAChBA,MAAMA,CAACA,UAAUA,CAACA,CAACA,CAACA,CAACA,SAASA,CAACA;gBACnCA,CAACA;YACLA,CAACA;YACDA,MAAMA,CAACA,EAAEA,CAACA;QACdA,CAACA;QACD5C,uDAAkBA,GAAlBA,UAAmBA,KAAUA,EAAEA,MAAWA;YACtC6C,IAAIA,KAAKA,CAACA;YACVA,EAAEA,CAACA,CAACA,KAAKA,CAACA,UAAUA,CAACA,CAACA,CAACA;gBACnBA,KAAKA,GAAGA,KAAKA,CAACA,UAAUA,CAACA;gBACzBA,IAAIA,CAACA,gBAAgBA,CAACA,KAAKA,EAAEA,MAAMA,CAACA,CAACA;YACzCA,CAACA;QACLA,CAACA;QAED7C,qDAAgBA,GAAhBA,UAAiBA,KAAiBA,EAAEA,MAAWA;YAC3C8C,IAAIA,IAAIA,CAACA;YACTA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,KAAKA,CAACA,MAAMA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;gBACpCA,IAAIA,GAAGA,KAAKA,CAACA,CAACA,CAACA,CAACA;gBAChBA,EAAEA,CAACA,CAACA,MAAMA,CAACA,CAACA,CAACA;oBACTA,IAAIA,CAACA,UAAUA,CAACA,IAAIA,CAACA,CAACA;gBAC1BA,CAACA;gBACDA,EAAEA,CAACA,CAACA,IAAIA,CAACA,UAAUA,CAACA,CAACA,CAACA;oBAClBA,IAAIA,CAACA,kBAAkBA,CAACA,IAAIA,EAAEA,MAAMA,CAACA,CAACA;gBAC1CA,CAACA;YACLA,CAACA;QACLA,CAACA;QACD9C,+CAAUA,GAAVA,UAAWA,IAASA;YAChB+C,IAAIA,UAAUA,GAAGA,QAAQA,CAACA;YAC1BA,EAAEA,CAACA,CAACA,IAAIA,CAACA,QAAQA,KAAKA,CAACA,CAACA,CAACA,CAACA;gBACtBA,OAAOA,CAACA,GAAGA,CAACA,WAAWA,GAAGA,IAAIA,CAACA,OAAOA,CAACA,CAACA;YAC5CA,CAACA;YAACA,IAAIA,CAACA,EAAEA,CAACA,CAACA,IAAIA,CAACA,QAAQA,KAAKA,CAACA,CAACA,CAACA,CAACA;gBAC7BA,6BAA6BA;gBAC7BA,IAAIA,CAACA,IAAIA,GAAGA,IAAIA,CAACA,IAAIA,CAACA,OAAOA,CAACA,UAAUA,EAAEA,EAAEA,CAACA,CAACA;gBAC9CA,EAAEA,CAACA,CAACA,IAAIA,CAACA,IAAIA,CAACA,CAACA,CAACA;oBACZA,OAAOA,CAACA,GAAGA,CAACA,QAAQA,GAAGA,IAAIA,CAACA,IAAIA,CAACA,CAACA;gBACtCA,CAACA;YACLA,CAACA;QACLA,CAACA;QACL/C,iCAACA;IAADA,CA3nBA,AA2nBCA,IAAA;IA3nBY,kCAA0B,6BA2nBtC,CAAA","file":"sdmx/sdmx20.js","sourcesContent":["/*\r\n    This file is part of sdmx-js.\r\n\r\n    sdmx-js is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU General Public License as published by\r\n    the Free Software Foundation, either version 3 of the License, or\r\n    (at your option) any later version.\r\n\r\n    sdmx-js is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU General Public License for more details.\r\n\r\n    You should have received a copy of the GNU General Public License\r\n    along with sdmx-js.  If not, see <http://www.gnu.org/licenses/>.\r\n    Copyright (C) 2016 James Gardner\r\n*/\r\n/// <amd-module name='sdmx/sdmx20'/>\r\nimport commonreferences = require(\"sdmx/commonreferences\");\r\nimport structure = require(\"sdmx/structure\");\r\nimport message = require(\"sdmx/message\");\r\nimport interfaces = require(\"sdmx/interfaces\");\r\nimport registry = require(\"sdmx/registry\");\r\nimport xml = require(\"sdmx/xml\");\r\nimport common = require(\"sdmx/common\");\r\nimport data = require(\"sdmx/data\");\r\nexport function parseXml(s: string): any {\r\n    var parseXml: DOMParser;\r\n    parseXml = new DOMParser();\r\n    var xmlDoc = parseXml.parseFromString(s, \"text/xml\");\r\n    return xmlDoc;\r\n}\r\n\r\nexport class Sdmx20StructureParser implements interfaces.SdmxParserProvider {\r\n    constructor() {\r\n\r\n    }\r\n    getVersionIdentifier(): number {\r\n        return 2.1;\r\n    }\r\n    canParse(input: string): boolean {\r\n        if (input == null) return false;\r\n        if (this.isStructure(input)) return true;\r\n        if (this.isData(input)) return true;\r\n    }\r\n    isStructure(input: string): boolean {\r\n        if (input.indexOf(\"Structure\") != -1 && input.indexOf(\"http://www.SDMX.org/resources/SDMXML/schemas/v2_0/message\") != -1) {\r\n            return true;\r\n        } else return false;\r\n    }\r\n    isData(input: string): boolean {\r\n        if (input.indexOf(\"CompactData\") != -1 && input.indexOf(\"http://www.SDMX.org/resources/SDMXML/schemas/v2_0/message\") != -1) {\r\n            return true;\r\n        } else return false;\r\n    }\r\n    isMetadata(header: string): boolean {\r\n        return false;\r\n    }\r\n    parseStructureWithRegistry(input: string, reg: interfaces.LocalRegistry): message.StructureType {\r\n        var srt: Sdmx20StructureReaderTools = new Sdmx20StructureReaderTools(input, reg);\r\n        return srt.getStructureType();\r\n\r\n    }\r\n    parseStructure(input: string): message.StructureType {\r\n        var srt: Sdmx20StructureReaderTools = new Sdmx20StructureReaderTools(input, null);\r\n        return srt.getStructureType();\r\n\r\n    }\r\n    parseData(input: string): message.DataMessage {\r\n        var parser: Sdmx20DataReaderTools = new Sdmx20DataReaderTools(input);\r\n        return parser.getDataMessage();\r\n\r\n    }\r\n}\r\nexport class Sdmx20DataReaderTools {\r\n    private msg: message.DataMessage = null;\r\n    private dw: data.FlatDataSetWriter = new data.FlatDataSetWriter();\r\n\r\n    constructor(s: string) {\r\n        //console.log(\"sdmx20 parsing data\");\r\n        var dom: any = parseXml(s);\r\n        //console.log(\"sdmx20 creating DataMessage\");\r\n        this.msg = this.toDataMessage(dom.documentElement);\r\n    }\r\n\r\n    getDataMessage(): message.DataMessage { return this.msg; }\r\n    toDataMessage(dm: any): message.DataMessage {\r\n        var msg: message.DataMessage = new message.DataMessage();\r\n        var childNodes = dm.childNodes;\r\n        msg.setHeader(this.toHeader(this.findNodeName(\"Header\", childNodes)));\r\n        var dss = this.toDataSets(this.searchNodeName(\"DataSet\", childNodes));\r\n        for (var i: number = 0; i < dss.length; i++) {\r\n            msg.addDataSet(dss[i]);\r\n        }\r\n        return msg;\r\n    }\r\n    toDataSets(dm: Array<any>): Array<data.FlatDataSet> {\r\n        var dss: Array<data.FlatDataSet> = [];\r\n        for (var i: number = 0; i < dm.length; i++) {\r\n            dss.push(this.toDataSet(dm[i].childNodes));\r\n        }\r\n        return dss;\r\n    }\r\n    toDataSet(ds: any): data.FlatDataSet {\r\n        this.dw.newDataSet();\r\n        var series: Array<any> = this.searchNodeName(\"Series\", ds);\r\n        if (series.length == 0) {\r\n            var obsArray: Array<any> = this.searchNodeName(\"Obs\", ds);\r\n            for (var i: number = 0; i < obsArray.length; i++) {\r\n                this.dw.newObservation();\r\n                var atts = obsArray[i].attributes;\r\n            }\r\n        } else {\r\n            for (var i: number = 0; i < series.length; i++) {\r\n                this.dw.newSeries();\r\n                var satts: Array<any> = series[i].attributes;\r\n                for (var av: number = 0; av < satts.length; av++) {\r\n                    this.dw.writeSeriesComponent(satts[av].nodeName, satts[av].value);\r\n                }\r\n                var obsArray: Array<any> = this.searchNodeName(\"Obs\", series[i].childNodes);\r\n                for (var j: number = 0; j < obsArray.length; j++) {\r\n                    this.dw.newObservation();\r\n                    var atts = obsArray[j].attributes;\r\n                    for (var av: number = 0; av < atts.length; av++) {\r\n                        this.dw.writeObservationComponent(atts[av].nodeName, atts[av].value);\r\n                    }\r\n                    this.dw.finishObservation();\r\n                }\r\n                this.dw.finishSeries();\r\n            }\r\n\r\n        }\r\n        return this.dw.finishDataSet();\r\n    }\r\n\r\n    toHeader(headerNode: any) {\r\n        var header: message.Header = new message.Header();\r\n        header.setId(this.findNodeName(\"ID\", headerNode.childNodes).childNodes[0].nodeValue);\r\n        var test: string = this.findNodeName(\"Test\", headerNode.childNodes).childNodes[0].nodeValue;\r\n        header.setTest(test == \"true\");\r\n        // truncated not in sdmx 2.1\r\n        //var truncated:string= this.findNodeName(\"Truncated\",headerNode.childNodes).childNodes[0].nodeValue;\r\n        //header.setTruncated(truncated==\"true\");\r\n        var prepared: string = this.findNodeName(\"Prepared\", headerNode.childNodes).childNodes[0].nodeValue;\r\n        var prepDate: xml.DateTime = xml.DateTime.fromString(prepared);\r\n        header.setPrepared(new message.HeaderTimeType(prepDate));\r\n        header.setSender(this.toSender(this.findNodeName(\"Sender\", headerNode.childNodes)));\r\n        return header;\r\n    }\r\n    toSender(senderNode: any): message.Sender {\r\n        var sender: string = senderNode.childNodes[0].nodeValue;\r\n\r\n        var senderType: message.Sender = new message.Sender();\r\n        var senderId: string = senderNode.getAttribute(\"id\");\r\n        var senderID: commonreferences.ID = new commonreferences.ID(senderId);\r\n        senderType.setId(senderID);\r\n        return senderType;\r\n    }\r\n    toNames(node: any): Array<common.Name> {\r\n        var names: Array<common.Name> = [];\r\n        var senderNames = this.searchNodeName(\"Name\", node.childNodes);\r\n        for (var i: number = 0; i < senderNames.length; i++) {\r\n            names.push(this.toName(senderNames[i]));\r\n        }\r\n        return names;\r\n    }\r\n    toName(node: any): common.Name {\r\n        var lang = node.getAttribute(\"xml:lang\");\r\n        var text = node.childNodes[0].nodeValue;\r\n        var name: common.Name = new common.Name(lang, text);\r\n        return name;\r\n    }\r\n    toDescriptions(node: any): Array<common.Description> {\r\n        var names: Array<common.Description> = [];\r\n        var senderNames = this.searchNodeName(\"Description\", node.childNodes);\r\n        for (var i: number = 0; i < senderNames.length; i++) {\r\n            names.push(this.toDescription(senderNames[i]));\r\n        }\r\n        return names;\r\n    }\r\n    toDescription(node: any): common.Description {\r\n        var lang = node.getAttribute(\"xml:lang\");\r\n        var text = node.childNodes[0].nodeValue;\r\n        var desc: common.Description = new common.Description(lang, text);\r\n        return desc;\r\n    }\r\n    toTextType(node: any): common.TextType {\r\n        var lang = node.getAttribute(\"xml:lang\");\r\n        var text = node.childNodes[0].nodeValue;\r\n        var textType: common.TextType = new common.TextType(lang, text);\r\n        return textType;\r\n    }\r\n    toPartyType(node: any): message.PartyType {\r\n        var pt = new message.PartyType();\r\n        return pt;\r\n    }\r\n    findNodeName(s: string, childNodes: any) {\r\n        for (var i: number = 0; i < childNodes.length; i++) {\r\n            var nn: string = childNodes[i].nodeName;\r\n            //alert(\"looking for:\"+s+\": name=\"+childNodes[i].nodeName);\r\n            if (nn.indexOf(s) != -1) {\r\n                //alert(\"found node:\"+s);\r\n                return childNodes[i];\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    searchNodeName(s: string, childNodes: any): Array<any> {\r\n        var result: Array<any> = [];\r\n        for (var i: number = 0; i < childNodes.length; i++) {\r\n            var nn: string = childNodes[i].nodeName;\r\n            //alert(\"looking for:\"+s+\": name=\"+childNodes[i].nodeName);\r\n            if (nn.indexOf(s) != -1) {\r\n                //alert(\"found node:\"+s);\r\n                result.push(childNodes[i]);\r\n            }\r\n        }\r\n        if (result.length == 0) {\r\n            //alert(\"cannot find any \" + s + \" in node\");\r\n        }\r\n        return result;\r\n    }\r\n    findTextNode(node: any): string {\r\n        if (node == null) return \"\";\r\n        var childNodes = node.childNodes;\r\n        for (var i: number = 0; i < childNodes.length; i++) {\r\n            var nodeType = childNodes[i].nodeType;\r\n            if (nodeType == 3) {\r\n                return childNodes[i].nodeValue;\r\n            }\r\n        }\r\n        return \"\";\r\n    }\r\n    recurseDomChildren(start: any, output: any) {\r\n        var nodes;\r\n        if (start.childNodes) {\r\n            nodes = start.childNodes;\r\n            this.loopNodeChildren(nodes, output);\r\n        }\r\n    }\r\n\r\n    loopNodeChildren(nodes: Array<any>, output: any) {\r\n        var node;\r\n        for (var i = 0; i < nodes.length; i++) {\r\n            node = nodes[i];\r\n            if (output) {\r\n                this.outputNode(node);\r\n            }\r\n            if (node.childNodes) {\r\n                this.recurseDomChildren(node, output);\r\n            }\r\n        }\r\n    }\r\n    outputNode(node: any) {\r\n        var whitespace = /^\\s+$/g;\r\n        if (node.nodeType === 1) {\r\n            console.log(\"element: \" + node.tagName);\r\n        } else if (node.nodeType === 3) {\r\n            //clear whitespace text nodes\r\n            node.data = node.data.replace(whitespace, \"\");\r\n            if (node.data) {\r\n                console.log(\"text: \" + node.data);\r\n            }\r\n        }\r\n    }\r\n}\r\nexport class Sdmx20StructureReaderTools {\r\n    private registry: interfaces.LocalRegistry = null;\r\n    private struct: message.StructureType = null;\r\n    private currentKeyFamilyAgency: string = null;\r\n\r\n    constructor(s: string, reg: interfaces.LocalRegistry) {\r\n        this.registry = reg;\r\n        var dom: any = parseXml(s);\r\n        this.struct = this.toStructureType(dom.documentElement);\r\n    }\r\n    toStructureType(structureNode: any): message.StructureType {\r\n        this.struct = new message.StructureType();\r\n        var structures = new structure.Structures();\r\n        this.struct.setStructures(structures);\r\n        if (this.registry == null) {\r\n            this.registry = this.struct;\r\n        } else {\r\n            this.registry = new registry.DoubleRegistry(this.registry, this.struct);\r\n        }\r\n        var childNodes = structureNode.childNodes;\r\n        this.struct.setHeader(this.toHeader(this.findNodeName(\"Header\", childNodes)));\r\n        structures.setCodeLists(this.toCodelists(this.findNodeName(\"CodeLists\", childNodes)));\r\n        structures.setConcepts(this.toConcepts(this.findNodeName(\"Concepts\", childNodes)));\r\n        structures.setDataStructures(this.toKeyFamilies(this.findNodeName(\"KeyFamilies\", childNodes)));\r\n        structures.setDataflows(this.toDataflows(null));\r\n        return this.struct;\r\n    }\r\n    toHeader(headerNode: any) {\r\n        var header: message.Header = new message.Header();\r\n        header.setId(this.findNodeName(\"ID\", headerNode.childNodes).childNodes[0].nodeValue);\r\n        var test: string = this.findNodeName(\"Test\", headerNode.childNodes).childNodes[0].nodeValue;\r\n        header.setTest(test == \"true\");\r\n        // truncated not in sdmx 2.1\r\n        //var truncated:string= this.findNodeName(\"Truncated\",headerNode.childNodes).childNodes[0].nodeValue;\r\n        //header.setTruncated(truncated==\"true\");\r\n        var prepared: string = this.findNodeName(\"Prepared\", headerNode.childNodes).childNodes[0].nodeValue;\r\n        var prepDate: xml.DateTime = xml.DateTime.fromString(prepared);\r\n        header.setPrepared(new message.HeaderTimeType(prepDate));\r\n        header.setSender(this.toSender(this.findNodeName(\"Sender\", headerNode.childNodes)));\r\n        return header;\r\n    }\r\n    toSender(senderNode: any): message.Sender {\r\n        var sender: string = senderNode.childNodes[0].nodeValue;\r\n        var senderType: message.Sender = new message.Sender();\r\n        var senderId: string = senderNode.getAttribute(\"id\");\r\n        var senderID: commonreferences.ID = new commonreferences.ID(senderId);\r\n        senderType.setId(senderID);\r\n        return senderType;\r\n    }\r\n    toNames(node: any): Array<common.Name> {\r\n        var names: Array<common.Name> = [];\r\n        var senderNames = this.searchNodeName(\"Name\", node.childNodes);\r\n        for (var i: number = 0; i < senderNames.length; i++) {\r\n            names.push(this.toName(senderNames[i]));\r\n        }\r\n        return names;\r\n    }\r\n    toName(node: any): common.Name {\r\n        var lang = node.getAttribute(\"xml:lang\");\r\n        var text = node.childNodes[0].nodeValue;\r\n        var name: common.Name = new common.Name(lang, text);\r\n        return name;\r\n    }\r\n    toDescriptions(node: any): Array<common.Description> {\r\n        var names: Array<common.Description> = [];\r\n        var senderNames = this.searchNodeName(\"Description\", node.childNodes);\r\n        for (var i: number = 0; i < senderNames.length; i++) {\r\n            names.push(this.toDescription(senderNames[i]));\r\n        }\r\n        return names;\r\n    }\r\n    toDescription(node: any): common.Description {\r\n        var lang = node.getAttribute(\"xml:lang\");\r\n        if (node.childNodes.length == 0) {\r\n            // <structure:Description xml:lang=\"en\" />\r\n            return new common.Description(lang, \"\");\r\n        }\r\n        var text = node.childNodes[0].nodeValue;\r\n        var desc: common.Description = new common.Description(lang, text);\r\n        return desc;\r\n    }\r\n    toTextType(node: any): common.TextType {\r\n        var lang = node.getAttribute(\"xml:lang\");\r\n        var text = node.childNodes[0].nodeValue;\r\n        var textType: common.TextType = new common.TextType(lang, text);\r\n        return textType;\r\n    }\r\n    toPartyType(node: any): message.PartyType {\r\n        var pt = new message.PartyType();\r\n        return pt;\r\n    }\r\n    toDataflows(dataflowsNode: any): structure.DataflowList {\r\n        var dl: structure.DataflowList = new structure.DataflowList();\r\n\r\n        return dl;\r\n    }\r\n    toDataflow(dataflowNode: any): structure.Dataflow {\r\n        var df: structure.Dataflow = new structure.Dataflow();\r\n        df.setNames(this.toNames(dataflowNode));\r\n        df.setId(this.toID(dataflowNode));\r\n        df.setAgencyId(this.toNestedNCNameID(dataflowNode));\r\n        df.setVersion(this.toVersion(dataflowNode));\r\n        return df;\r\n    }\r\n    toCodelists(codelistsNode: any) {\r\n        if (codelistsNode == null) return null;\r\n        var codelists: structure.CodeLists = new structure.CodeLists();\r\n        var codes = this.searchNodeName(\"CodeList\", codelistsNode.childNodes);\r\n        for (var i: number = 0; i < codes.length; i++) {\r\n            codelists.getCodelists().push(this.toCodelist(codes[i]));\r\n        }\r\n        return codelists;\r\n    }\r\n    toID(node: any): commonreferences.ID {\r\n        if (node == null) return null;\r\n        return new commonreferences.ID(node.getAttribute(\"id\"));\r\n    }\r\n    toNestedNCNameID(node: any): commonreferences.NestedNCNameID {\r\n        if (node == null) return null;\r\n        return new commonreferences.NestedNCNameID(node.getAttribute(\"agencyID\"));\r\n    }\r\n    toVersion(node: any): commonreferences.Version {\r\n        if (node == null) return null;\r\n        if (node.getAttribute(\"version\") == \"\" || node.getAttribute(\"version\") == null) {\r\n            return commonreferences.Version.ONE;\r\n        }\r\n        return new commonreferences.Version(node.getAttribute(\"version\"));\r\n    }\r\n    toCodelist(codelistNode: any) {\r\n        var cl: structure.Codelist = new structure.Codelist();\r\n        cl.setNames(this.toNames(codelistNode));\r\n        cl.setId(this.toID(codelistNode));\r\n        cl.setAgencyId(this.toNestedNCNameID(codelistNode));\r\n        cl.setVersion(this.toVersion(codelistNode));\r\n        var codeNodes = this.searchNodeName(\"Code\", codelistNode.childNodes);\r\n        for (var i: number = 0; i < codeNodes.length; i++) {\r\n            cl.getItems().push(this.toCode(codeNodes[i]));\r\n        }\r\n        return cl;\r\n    }\r\n    toCode(codeNode: any): structure.CodeType {\r\n        var c: structure.CodeType = new structure.CodeType();\r\n        c.setDescriptions(this.toDescriptions(codeNode));\r\n        c.setId(this.toValue(codeNode));\r\n        if (codeNode.getAttribute(\"parentCode\") != null) {\r\n            var ref: commonreferences.Ref = new commonreferences.Ref();\r\n            ref.setMaintainableParentId(new commonreferences.ID(codeNode.getAttribute(\"parentCode\")));\r\n            var reference: commonreferences.Reference = new commonreferences.Reference(ref, null);\r\n            c.setParent(reference);\r\n        }\r\n        return c;\r\n    }\r\n    getParentCode(codeNode: any): commonreferences.ID {\r\n        var id = codeNode.getAttribute(\"parentCode\");\r\n        if (id == null) { return null; }\r\n        else {\r\n            return new commonreferences.ID(id);\r\n        }\r\n    }\r\n    toValue(codeNode: any): commonreferences.ID {\r\n        if (codeNode == null) return null;\r\n        var id = codeNode.getAttribute(\"value\");\r\n        return new commonreferences.ID(id);\r\n    }\r\n    toConcepts(conceptsNode: any) {\r\n        if (conceptsNode == null) return null;\r\n        var concepts: structure.Concepts = new structure.Concepts();\r\n        this.struct.getStructures().setConcepts(concepts);\r\n        var conNodes = this.searchNodeName(\"Concept\", conceptsNode.childNodes);\r\n        for (var i: number = 0; i < conNodes.length; i++) {\r\n            var conceptScheme: structure.ConceptSchemeType = this.findStandaloneConceptScheme(this.toNestedNCNameID(conNodes[i]));\r\n            this.toConcept(conceptScheme, conNodes[i]);\r\n        }\r\n        return concepts;\r\n    }\r\n    findStandaloneConceptScheme(ag: commonreferences.NestedNCNameID): structure.ConceptSchemeType {\r\n        var ref: commonreferences.Ref = new commonreferences.Ref();\r\n        ref.setAgencyId(ag);\r\n        ref.setMaintainableParentId(new commonreferences.ID(\"STANDALONE_CONCEPT_SCHEME\"));\r\n        ref.setVersion(null);\r\n        var reference: commonreferences.Reference = new commonreferences.Reference(ref, null);\r\n        var cs: structure.ConceptSchemeType = this.struct.findConceptScheme(reference);\r\n        if (cs == null) {\r\n            cs = new structure.ConceptSchemeType();\r\n            cs.setAgencyId(ag);\r\n            cs.setId(new commonreferences.ID(\"STANDALONE_CONCEPT_SCHEME\"));\r\n            cs.setVersion(commonreferences.Version.ONE);\r\n            var name: common.Name = new common.Name(\"en\", \"Standalone Concept Scheme\");\r\n            cs.setNames([name]);\r\n            this.struct.getStructures().getConcepts().getConceptSchemes().push(cs);\r\n        }\r\n        return cs;\r\n    }\r\n    toConceptScheme(conceptSchemeNode: any) {\r\n        if (conceptSchemeNode == null) return null;\r\n        var cs: structure.ConceptSchemeType = new structure.ConceptSchemeType();\r\n        cs.setNames(this.toNames(conceptSchemeNode))\r\n        cs.setAgencyId(this.toNestedNCNameID(conceptSchemeNode));\r\n        cs.setVersion(this.toVersion(conceptSchemeNode));\r\n        return cs;\r\n    }\r\n    toConcept(conceptScheme: structure.ConceptSchemeType, conceptNode: any) {\r\n        if (conceptNode == null) {\r\n            return null;\r\n        }\r\n        var con: structure.ConceptType = new structure.ConceptType();\r\n        con.setNames(this.toNames(conceptNode));\r\n        con.setDescriptions(this.toDescriptions(conceptNode));\r\n        con.setId(this.toID(conceptNode));\r\n        conceptScheme.getItems().push(con);\r\n    }\r\n    toKeyFamilies(keyFamiliesNode: any) {\r\n        if (keyFamiliesNode == null) return null;\r\n        var dst: structure.DataStructures = new structure.DataStructures();\r\n        var kfNodes = this.searchNodeName(\"KeyFamily\", keyFamiliesNode.childNodes);\r\n        for (var i: number = 0; i < kfNodes.length; i++) {\r\n            dst.getDataStructures().push(this.toDataStructure(kfNodes[i]));\r\n        }\r\n        return dst;\r\n    }\r\n    toDataStructure(keyFamilyNode: any): structure.DataStructure {\r\n        var dst: structure.DataStructure = new structure.DataStructure();\r\n        dst.setNames(this.toNames(keyFamilyNode));\r\n        dst.setId(this.toID(keyFamilyNode));\r\n        this.currentKeyFamilyAgency = keyFamilyNode.getAttribute(\"agencyID\");\r\n        dst.setAgencyId(this.toNestedNCNameID(keyFamilyNode));\r\n        dst.setVersion(this.toVersion(keyFamilyNode));\r\n\r\n        dst.setDataStructureComponents(this.toDataStructureComponents(this.findNodeName(\"Components\", keyFamilyNode.childNodes)));\r\n        //this.recurseDomChildren(keyFamilyNode, true);\r\n        return dst;\r\n    }\r\n    toDataStructureComponents(dsc: any): structure.DataStructureComponents {\r\n        if (dsc == null) return null;\r\n        var components: structure.DataStructureComponents = new structure.DataStructureComponents();\r\n        var dimensions = this.searchNodeName(\"Dimension\", dsc.childNodes);\r\n        var timedimension = this.findNodeName(\"TimeDimension\", dsc.childNodes);\r\n        // TimeDimension gets stuck in dimensions sometimes :)\r\n        collections.arrays.remove(dimensions, timedimension);\r\n        var primaryMeasure = this.findNodeName(\"PrimaryMeasure\", dsc.childNodes);\r\n        var attributes = this.searchNodeName(\"Attribute\", dsc.childNodes);\r\n        components.setDimensionList(this.toDimensionList(dimensions));\r\n        this.toTimeDimension(components, timedimension);\r\n        this.toPrimaryMeasure(components, primaryMeasure);\r\n        components.setAttributeList(this.toAttributeList(attributes));\r\n        /*\r\n        for (var i: number = 0; i < dimensions.length; i++) {\r\n            this.recurseDomChildren(dimensions[i].childNodes, true);\r\n        }\r\n        this.recurseDomChildren(timedimension.childNodes, true);\r\n        this.recurseDomChildren(primaryMeasure.childNodes, true);\r\n        for (var i: number = 0; i < attributes.length; i++) {\r\n            this.recurseDomChildren(attributes[i].childNodes, true);\r\n        }\r\n        */\r\n        return components;\r\n    }\r\n    toDimensionList(dims: Array<any>): structure.DimensionList {\r\n        var dimList: structure.DimensionList = new structure.DimensionList();\r\n        var dimArray: Array<structure.Dimension> = [];\r\n        for (var i: number = 0; i < dims.length; i++) {\r\n            if (dims[i].getAttribute(\"isMeasureDimension\") == \"true\") {\r\n                dimList.setMeasureDimension(this.toMeasureDimension(dims[i]));\r\n            } else {\r\n                // Sometimes Time Dimension seems to get mistakenly sucked\r\n                // into this list too :(\r\n                if (dims[i].nodeName != \"structure:TimeDimension\") {\r\n                    dimArray.push(this.toDimension(dims[i]));\r\n                }\r\n            }\r\n        }\r\n        dimList.setDimensions(dimArray);\r\n        return dimList;\r\n    }\r\n    toAttributeList(dims: Array<any>): structure.AttributeList {\r\n        var dimList: structure.AttributeList = new structure.AttributeList();\r\n        var dimArray: Array<structure.Attribute> = [];\r\n        for (var i: number = 0; i < dims.length; i++) {\r\n            dimArray.push(this.toAttribute(dims[i]));\r\n        }\r\n        dimList.setAttributes(dimArray);\r\n        return dimList;\r\n    }\r\n    toTimeDimension(comps: structure.DataStructureComponents, dim: any) {\r\n        var dim2: structure.TimeDimension = new structure.TimeDimension();\r\n        var cs: structure.ConceptSchemeType = this.getConceptScheme(dim);\r\n        var cl: structure.Codelist = this.getCodelist(dim);\r\n        var con: structure.ConceptType = this.getConcept(cs, dim);\r\n        if (con != null) {\r\n            var ref: commonreferences.Ref = new commonreferences.Ref();\r\n            ref.setAgencyId(cs.getAgencyId());\r\n            ref.setMaintainableParentId(cs.getId());\r\n            ref.setVersion(cs.getVersion());\r\n            ref.setId(con.getId());\r\n            var reference: commonreferences.Reference = new commonreferences.Reference(ref, null);\r\n            dim2.setConceptIdentity(reference);\r\n        }\r\n        if (cl != null) {\r\n            var ttf: structure.TextFormatType = this.toTextFormatType(this.findNodeName(\"TextFormat\", dim.childNodes));\r\n            dim2.setLocalRepresentation(this.toLocalRepresentation(cl, ttf));\r\n        } else {\r\n            var ttf: structure.TextFormatType = this.toTextFormatType(this.findNodeName(\"TextFormat\", dim.childNodes));\r\n            dim2.setLocalRepresentation(this.toLocalRepresentation(null, ttf));\r\n        }\r\n        comps.getDimensionList().setTimeDimension(dim2);\r\n    }\r\n    toPrimaryMeasure(comps: structure.DataStructureComponents, dim: any) {\r\n        var dim2: structure.PrimaryMeasure = new structure.PrimaryMeasure();\r\n        var cs: structure.ConceptSchemeType = this.getConceptScheme(dim);\r\n        var cl: structure.Codelist = this.getCodelist(dim);\r\n        var con: structure.ConceptType = this.getConcept(cs, dim);\r\n        if (con != null) {\r\n            var ref: commonreferences.Ref = new commonreferences.Ref();\r\n            ref.setAgencyId(cs.getAgencyId());\r\n            ref.setMaintainableParentId(cs.getId());\r\n            ref.setVersion(cs.getVersion());\r\n            ref.setId(con.getId());\r\n            var reference: commonreferences.Reference = new commonreferences.Reference(ref, null);\r\n            dim2.setConceptIdentity(reference);\r\n        }\r\n        if (cl != null) {\r\n            var ttf: structure.TextFormatType = this.toTextFormatType(this.findNodeName(\"TextFormat\", dim.childNodes));\r\n            dim2.setLocalRepresentation(this.toLocalRepresentation(cl, ttf));\r\n        } else {\r\n            var ttf: structure.TextFormatType = this.toTextFormatType(this.findNodeName(\"TextFormat\", dim.childNodes));\r\n            dim2.setLocalRepresentation(this.toLocalRepresentation(null, ttf));\r\n        }\r\n        comps.getMeasureList().setPrimaryMeasure(dim2);\r\n    }\r\n    toDimension(dim: any): structure.Dimension {\r\n        var dim2: structure.Dimension = new structure.Dimension();\r\n        var cs: structure.ConceptSchemeType = this.getConceptScheme(dim);\r\n        var cl: structure.Codelist = this.getCodelist(dim);\r\n        var con: structure.ConceptType = this.getConcept(cs, dim);\r\n        if (con != null) {\r\n            var ref: commonreferences.Ref = new commonreferences.Ref();\r\n            ref.setAgencyId(cs.getAgencyId());\r\n            ref.setMaintainableParentId(cs.getId());\r\n            ref.setVersion(cs.getVersion());\r\n            ref.setId(con.getId());\r\n            var reference: commonreferences.Reference = new commonreferences.Reference(ref, null);\r\n            dim2.setConceptIdentity(reference);\r\n        }\r\n        if (cl != null) {\r\n            var ttf: structure.TextFormatType = this.toTextFormatType(this.findNodeName(\"TextFormat\", dim.childNodes));\r\n            dim2.setLocalRepresentation(this.toLocalRepresentation(cl, ttf));\r\n        } else {\r\n            var ttf: structure.TextFormatType = this.toTextFormatType(this.findNodeName(\"TextFormat\", dim.childNodes));\r\n            dim2.setLocalRepresentation(this.toLocalRepresentation(null, ttf));\r\n        }\r\n        return dim2;\r\n    }\r\n    toAttribute(dim: any): structure.Attribute {\r\n        var dim2: structure.Attribute = new structure.Attribute();\r\n        var cs: structure.ConceptSchemeType = this.getConceptScheme(dim);\r\n        var cl: structure.Codelist = this.getCodelist(dim);\r\n        var con: structure.ConceptType = this.getConcept(cs, dim);\r\n        if (con != null) {\r\n            var ref: commonreferences.Ref = new commonreferences.Ref();\r\n            ref.setAgencyId(cs.getAgencyId());\r\n            ref.setMaintainableParentId(cs.getId());\r\n            ref.setVersion(cs.getVersion());\r\n            ref.setId(con.getId());\r\n            var reference: commonreferences.Reference = new commonreferences.Reference(ref, null);\r\n            dim2.setConceptIdentity(reference);\r\n        }\r\n        if (cl != null) {\r\n            var ttf: structure.TextFormatType = this.toTextFormatType(this.findNodeName(\"TextFormat\", dim.childNodes));\r\n            dim2.setLocalRepresentation(this.toLocalRepresentation(cl, ttf));\r\n        } else {\r\n            var ttf: structure.TextFormatType = this.toTextFormatType(this.findNodeName(\"TextFormat\", dim.childNodes));\r\n            dim2.setLocalRepresentation(this.toLocalRepresentation(null, ttf));\r\n        }\r\n        return dim2;\r\n    }\r\n    public toTextFormatType(tft: any): structure.TextFormatType {\r\n        if (tft == null) {\r\n            return null;\r\n        }\r\n        var tft2: structure.TextFormatType = new structure.TextFormatType();\r\n        if (tft.getAttribute(\"decimals\") != null) {\r\n            tft2.setDecimals(parseInt(tft.getAttribute(\"decimals\")));\r\n        }\r\n        if (tft.getAttribute(\"endValue\") != null) { tft2.setEndValue(parseInt(tft.getAttribute(\"endValue\"))); }\r\n        if (tft.getAttribute(\"isSequence\") != null) {\r\n            tft2.setIsSequence(tft.getAttribute(\"isSequence\") == \"true\");\r\n            if (tft.getAttribute(\"interval\") != null) { tft2.setInterval(parseInt(tft.getAttribute(\"interval\"))); }\r\n        }\r\n        if (tft.getAttribute(\"maxLength\") != null) {\r\n            tft2.setMaxLength(parseInt(tft.getAttribute(\"maxLength\")));\r\n        }\r\n        if (tft.getAttribute(\"pattern\") != null) {\r\n            tft2.setPattern(tft.getAttribute(\"pattern\"));\r\n        }\r\n        if (tft.getAttribute(\"startValue\")) { tft2.setStartValue(parseInt(tft.getAttribute(\"startValue\"))); }\r\n        if (tft.getAttribute(\"textType\") != null) {\r\n            tft2.setTextType(common.DataType.fromStringWithException(tft.getAttribute(\"textType\")));\r\n        }\r\n        if (tft.getAttribute(\"timeInterval\") != null) {\r\n            // DO ME!!!!\r\n            tft2.setTimeInterval(null);\r\n        }\r\n        return tft2;\r\n    }\r\n    toLocalRepresentation(codelist: structure.Codelist, ttf: structure.TextFormatType): structure.RepresentationType {\r\n        var lr2: structure.RepresentationType = new structure.RepresentationType();\r\n        lr2.setTextFormat(ttf);\r\n        if (codelist != null) {\r\n            var ref: commonreferences.Ref = new commonreferences.Ref();\r\n            ref.setAgencyId(codelist.getAgencyId());\r\n            ref.setMaintainableParentId(codelist.getId());\r\n            ref.setVersion(codelist.getVersion());\r\n            var reference = new commonreferences.Reference(ref, null);\r\n            lr2.setEnumeration(reference);\r\n        }\r\n        return lr2;\r\n    }\r\n    getCodelist(dim: any): structure.Codelist {\r\n        if (dim.getAttribute(\"codelist\") == null) {\r\n            return null;\r\n        }\r\n        var code: structure.Codelist = null;\r\n        if (dim.getAttribute(\"codelistAgency\") == null && dim.getAttribute(\"codelistVersion\") == null) {\r\n            // All we have is a codelist name\r\n            var ref: commonreferences.Ref = new commonreferences.Ref();\r\n            ref.setAgencyId(new commonreferences.NestedNCNameID(this.currentKeyFamilyAgency));\r\n            ref.setMaintainableParentId(new commonreferences.ID(dim.getAttribute(\"codelist\")));\r\n            ref.setVersion(null);\r\n            var reference: commonreferences.Reference = new commonreferences.Reference(ref, null);\r\n            code = this.registry.findCodelist(reference);\r\n        } else if (dim.getAttribute(\"codelistAgency\") != null && dim.getAttribute(\"codelistVersion\") != null) {\r\n            var ref: commonreferences.Ref = new commonreferences.Ref();\r\n            ref.setAgencyId(new commonreferences.NestedNCNameID(dim.getAttribute(\"codelistAgency\")));\r\n            ref.setMaintainableParentId(new commonreferences.ID(dim.getAttribute(\"codelist\")));\r\n            ref.setVersion(new commonreferences.Version(dim.getAttribute(\"codelistVersion\")));\r\n            var reference: commonreferences.Reference = new commonreferences.Reference(ref, null);\r\n            code = this.registry.findCodelist(reference);\r\n        } else if (dim.getAttribute(\"codelistAgency\") != null && dim.getAttribute(\"codelistVersion\") == null) {\r\n            var ref: commonreferences.Ref = new commonreferences.Ref();\r\n            ref.setAgencyId(new commonreferences.NestedNCNameID(dim.getAttribute(\"codelistAgency\")));\r\n            ref.setMaintainableParentId(new commonreferences.ID(dim.getAttribute(\"codelist\")));\r\n            ref.setVersion(null);\r\n            var reference: commonreferences.Reference = new commonreferences.Reference(ref, null);\r\n            code = this.registry.findCodelist(reference);\r\n        }\r\n        return code;\r\n    }\r\n    getConceptScheme(dim: any): structure.ConceptSchemeType {\r\n        if ((dim.getAttribute(\"conceptSchemeAgency\") != null || dim.getAttribute(\"conceptAgency\") != null) && dim.getAttribute(\"conceptSchemeRef\") != null && dim.getAttribute(\"conceptRef\") != null) {\r\n            var csa: commonreferences.NestedNCNameID = new commonreferences.NestedNCNameID(dim.getAttribute(\"conceptSchemeAgency\") == null ? dim.getAttribute(\"conceptAgency\") : dim.getAttribute(\"conceptSchemeAgency\"));\r\n            var csi: commonreferences.ID = new commonreferences.ID(dim.getAttribute(\"conceptSchemeRef\"));\r\n            var vers: commonreferences.Version = dim.getAttribute(\"conceptVersion\") == null ? null : new commonreferences.Version(dim.getAttribute(\"conceptVersion\"));\r\n            var csref: commonreferences.Ref = new commonreferences.Ref();\r\n            csref.setAgencyId(csa);\r\n            csref.setMaintainableParentId(csi);\r\n            csref.setVersion(vers);\r\n            var reference: commonreferences.Reference = new commonreferences.Reference(csref, null);\r\n            var cst: structure.ConceptSchemeType = null;\r\n            cst = this.struct.findConceptScheme(reference);\r\n            if (cst != null) return cst;\r\n            cst = this.registry.findConceptScheme(reference);\r\n            if (cst != null) return cst;\r\n        } else if (dim.getAttribute(\"conceptSchemeRef\") != null && dim.getAttribute(\"conceptRef\") != null) {\r\n            var csa: commonreferences.NestedNCNameID = new commonreferences.NestedNCNameID(this.currentKeyFamilyAgency);\r\n            var csi: commonreferences.ID = new commonreferences.ID(dim.getAttribute(\"conceptSchemeRef\"));\r\n            var vers: commonreferences.Version = dim.getAttribute(\"conceptVersion\") == null ? null : new commonreferences.Version(dim.getAttribute(\"conceptVersion\"));\r\n            var csref: commonreferences.Ref = new commonreferences.Ref();\r\n            csref.setAgencyId(csa);\r\n            csref.setMaintainableParentId(csi);\r\n            csref.setVersion(vers);\r\n            var reference: commonreferences.Reference = new commonreferences.Reference(csref, null);\r\n            var cst: structure.ConceptSchemeType = null;\r\n            cst = this.struct.findConceptScheme(reference);\r\n            if (cst != null) return cst;\r\n            cst = this.registry.findConceptScheme(reference);\r\n            if (cst != null) return cst;\r\n        } else if (dim.getAttribute(\"conceptRef\") != null && dim.getAttribute(\"conceptAgency\") == null) {\r\n            var csa: commonreferences.NestedNCNameID = new commonreferences.NestedNCNameID(this.currentKeyFamilyAgency);\r\n            var csi: commonreferences.ID = new commonreferences.ID(\"STANDALONE_CONCEPT_SCHEME\");\r\n            var vers: commonreferences.Version = dim.getAttribute(\"conceptVersion\") == null ? null : new commonreferences.Version(dim.getAttribute(\"conceptVersion\"));\r\n            var csref: commonreferences.Ref = new commonreferences.Ref();\r\n            csref.setAgencyId(csa);\r\n            csref.setMaintainableParentId(csi);\r\n            csref.setVersion(vers);\r\n            var reference: commonreferences.Reference = new commonreferences.Reference(csref, null);\r\n            var cst: structure.ConceptSchemeType = null;\r\n            cst = this.struct.findConceptScheme(reference);\r\n            if (cst != null) return cst;\r\n            cst = this.registry.findConceptScheme(reference);\r\n            if (cst != null) return cst;\r\n            var ct: structure.ConceptType = cst != null ? cst.findItemString(dim.getAttribute(\"conceptRef\")) : null;\r\n            var ref: commonreferences.Ref = new commonreferences.Ref();\r\n            ref.setAgencyId(new commonreferences.NestedNCNameID(this.currentKeyFamilyAgency));\r\n            ref.setId(new commonreferences.ID(\"STANDALONE_CONCEPT_SCHEME\"));\r\n            var ref2: commonreferences.Reference = new commonreferences.Reference(ref, null);\r\n            var cst: structure.ConceptSchemeType = null;\r\n            cst = this.struct.findConceptScheme(ref2);\r\n            if (cst != null) return cst;\r\n            cst = this.registry.findConceptScheme(ref2);\r\n            if (cst != null) return cst;\r\n            return cst;\r\n        } else if (dim.getAttribute(\"conceptRef\")() != null && dim.getAttribute(\"conceptAgency\") != null) {\r\n            var csa: commonreferences.NestedNCNameID = new commonreferences.NestedNCNameID(dim.getAttribute(\"conceptAgency\"));\r\n            var csi: commonreferences.ID = new commonreferences.ID(\"STANDALONE_CONCEPT_SCHEME\");\r\n            var ref: commonreferences.Ref = new commonreferences.Ref();\r\n            ref.setAgencyId(csa);\r\n            ref.setId(csi);\r\n            ref.setVersion(commonreferences.Version.ONE);\r\n            var ref2: commonreferences.Reference = new commonreferences.Reference(ref, null);\r\n            var cst: structure.ConceptSchemeType = null;\r\n            cst = this.struct.findConceptScheme(ref2);\r\n            if (cst != null) return cst;\r\n            cst = this.registry.findConceptScheme(ref2);\r\n            if (cst != null) return cst;\r\n        }\r\n        return null;\r\n    }\r\n    getConcept(cs: structure.ConceptSchemeType, dim: any) {\r\n        if (cs != null) {\r\n            var concept: structure.ConceptType = cs.findItemString(dim.getAttribute(\"conceptRef\"));\r\n            return concept;\r\n        } else return null;\r\n    }\r\n    findConcept(conceptRef: string): structure.ConceptType {\r\n        var csa: commonreferences.NestedNCNameID = new commonreferences.NestedNCNameID(this.currentKeyFamilyAgency);\r\n        var csi: commonreferences.ID = new commonreferences.ID(conceptRef);\r\n        var ref: commonreferences.Ref = new commonreferences.Ref();\r\n        ref.setAgencyId(csa);\r\n        ref.setId(csi);\r\n        var reference: commonreferences.Reference = new commonreferences.Reference(ref, null);\r\n        var ct: structure.ConceptType = this.registry.findConcept(reference);\r\n        if (ct == null) {\r\n            var ref2: commonreferences.Ref = new commonreferences.Ref();\r\n            ref2.setId(csi);\r\n            var reference2: commonreferences.Reference = new commonreferences.Reference(ref2, null);\r\n            return this.registry.findConcept(reference2);\r\n        }\r\n        return ct;\r\n    }\r\n    toMeasureDimension(dim: any): structure.MeasureDimension {\r\n        var dim2: structure.MeasureDimension = new structure.MeasureDimension();\r\n        var cs: structure.ConceptSchemeType = this.getConceptScheme(dim);\r\n        var cl: structure.Codelist = this.getCodelist(dim);\r\n        var con: structure.ConceptType = this.getConcept(cs, dim);\r\n        if (con != null) {\r\n            var ref: commonreferences.Ref = new commonreferences.Ref();\r\n            ref.setAgencyId(cs.getAgencyId());\r\n            ref.setMaintainableParentId(cs.getId());\r\n            ref.setVersion(cs.getVersion());\r\n            ref.setId(con.getId());\r\n            var reference: commonreferences.Reference = new commonreferences.Reference(ref, null);\r\n            dim2.setConceptIdentity(reference);\r\n        }\r\n        if (cl != null) {\r\n            var ttf: structure.TextFormatType = this.toTextFormatType(this.findNodeName(\"TextFormat\", dim.childNodes));\r\n            dim2.setLocalRepresentation(this.toLocalRepresentation(cl, ttf))\r\n        } else {\r\n            var ttf: structure.TextFormatType = this.toTextFormatType(this.findNodeName(\"TextFormat\", dim.childNodes));\r\n            dim2.setLocalRepresentation(this.toLocalRepresentation(null, ttf))\r\n        }\r\n        return dim2;\r\n    }\r\n\r\n    getStructureType(): message.StructureType {\r\n        return this.struct;\r\n    }\r\n    findNodeName(s: string, childNodes: any) {\r\n        for (var i: number = 0; i < childNodes.length; i++) {\r\n            var nn: string = childNodes[i].nodeName;\r\n            //alert(\"looking for:\"+s+\": name=\"+childNodes[i].nodeName);\r\n            if (nn.indexOf(s) != -1) {\r\n                //alert(\"found node:\"+s);\r\n                return childNodes[i];\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    searchNodeName(s: string, childNodes: any): Array<any> {\r\n        var result: Array<any> = [];\r\n        for (var i: number = 0; i < childNodes.length; i++) {\r\n            var nn: string = childNodes[i].nodeName;\r\n            //alert(\"looking for:\"+s+\": name=\"+childNodes[i].nodeName);\r\n            if (nn.indexOf(s) != -1) {\r\n                //alert(\"found node:\"+s);\r\n                result.push(childNodes[i]);\r\n            }\r\n        }\r\n        if (result.length == 0) {\r\n            //alert(\"cannot find any \" + s + \" in node\");\r\n        }\r\n        return result;\r\n    }\r\n    findTextNode(node: any): string {\r\n        if (node == null) return \"\";\r\n        var childNodes = node.childNodes;\r\n        for (var i: number = 0; i < childNodes.length; i++) {\r\n            var nodeType = childNodes[i].nodeType;\r\n            if (nodeType == 3) {\r\n                return childNodes[i].nodeValue;\r\n            }\r\n        }\r\n        return \"\";\r\n    }\r\n    recurseDomChildren(start: any, output: any) {\r\n        var nodes;\r\n        if (start.childNodes) {\r\n            nodes = start.childNodes;\r\n            this.loopNodeChildren(nodes, output);\r\n        }\r\n    }\r\n\r\n    loopNodeChildren(nodes: Array<any>, output: any) {\r\n        var node;\r\n        for (var i = 0; i < nodes.length; i++) {\r\n            node = nodes[i];\r\n            if (output) {\r\n                this.outputNode(node);\r\n            }\r\n            if (node.childNodes) {\r\n                this.recurseDomChildren(node, output);\r\n            }\r\n        }\r\n    }\r\n    outputNode(node: any) {\r\n        var whitespace = /^\\s+$/g;\r\n        if (node.nodeType === 1) {\r\n            console.log(\"element: \" + node.tagName);\r\n        } else if (node.nodeType === 3) {\r\n            //clear whitespace text nodes\r\n            node.data = node.data.replace(whitespace, \"\");\r\n            if (node.data) {\r\n                console.log(\"text: \" + node.data);\r\n            }\r\n        }\r\n    }\r\n}\r\n"],"sourceRoot":"/source/"}